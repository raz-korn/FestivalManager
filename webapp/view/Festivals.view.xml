<mvc:View
    controllerName="keepdancing.festivalmanager.controller.Festivals"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    displayBlock="true">
    <Page id="page" title="{i18n>title}">
        <headerContent>
            <Button icon="sap-icon://menu" press=".onCategorySelect" tooltip="{i18n>tooTipSelectCategory}"/>
        </headerContent>
        <content>
            <IconTabBar id="iconTabBar" select=".onFestivalSelect" class="sapUiResponsiveContentPadding">
                <items>
                    <IconTabFilter
                        showAll="true"
                        text="{i18n>msgFilterAll}"
                        key="All"
                        count="{=${festivalModel>/festivals}.length}"/>
                    <IconTabSeparator/>
                    <IconTabFilter icon="sap-icon://lead" iconColor="Positive" text="max 50 Euro" key="Cheap"/>
                    <IconTabFilter icon="sap-icon://money-bills" iconColor="Default" text="50 - 150 Euro" key="Moderate"/>
                    <IconTabFilter icon="sap-icon://loan" iconColor="Critical" text="greater 150 Euro" key="Expensive"/>
                </items>
                <content>
                    <Table 
                        id="festivalsList"
                        items="{path: 'festivalModel>/festivals', sorter: {path:'category', group:true, descending:false}}"
                        noDataText="{i18n>noFestivalDataText}">
                        <columns>
                            <Column>
                                <header>
                                    <Text text="{i18n>column_name}"/>
                                </header>
                            </Column>
                            <Column>
                                <header>
                                    <Text text="{i18n>column_location}"/>
                                </header>
                            </Column>
                            <Column>
                                <header>
                                    <Text text="{i18n>column_country}"/>
                                </header>
                            </Column>
                            <Column>
                                <header>
                                    <Text text="{i18n>column_date}"/>
                                </header>
                            </Column>
                            <Column>
                                <header>
                                    <Text text="{i18n>column_price}"/>
                                </header>
                            </Column>
                        </columns>
                        <items>
                            <ColumnListItem>
                                <cells>
                                    <HBox alignItems="Center">
                                        <core:Icon
                                            class="sapUiSmallMarginTop sapUiSmallMarginEnd"
                                            color="{path: 'festivalModel>price', formatter:'.formatIconColor'}"
                                            src="sap-icon://appointment-2"
                                            size="2.5rem"/>
                                        <Text class="sapUiTinyMargin" text="{festivalModel>name}"/>
                                    </HBox>
                                    <Text text="{festivalModel>location}"/>
                                    <Text text="{festivalModel>address/country}"/>
                                    <Text text="{festivalModel>startDate}"/>
                                    <ObjectNumber
                                        number="{festivalModel>price}"
                                        unit="â‚¬"/>
                                </cells>
                            </ColumnListItem>                        </items>
                        <noData>
                            <IllustratedMessage id="illustratedMessage" enableVerticalResponsiveness="true" illustrationType="sapIllus-EmptyList"/>
                        </noData>
                    </Table>
                </content>
            </IconTabBar>
        </content>
    </Page>
</mvc:View>